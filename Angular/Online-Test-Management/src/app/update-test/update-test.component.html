<app-navbar-home></app-navbar-home>
<br>
<h3>Update Test</h3>
<div class="text-danger" id="error"><b>{{errorMsg}}</b></div>
<div *ngIf="!errorMsg">
  <div>
    <form (ngSubmit)="onSubmit()" #updateForm="ngForm">

      <div class="form-group">
        <label class="label" for="name">Test Title </label>
        <input type="text" required #title="ngModel" pattern="[a-zA-Z0-9\s]+" placeholder="Enter the test title"
          class="form-control" id="testtitle" [(ngModel)]="test.testTitle" name="testTitle"
          [class.is-invalid]="title.invalid && title.touched">
        <div *ngIf="title.errors && (title.invalid||title.touched)" [class.d-none]="title.valid || title.untouched">
          <small class="text-danger" *ngIf="title.errors.required">Test title is required</small>
          <small class="text-danger" *ngIf="title.errors.pattern">Special characters not allowed</small>
        </div>
      </div>

      <div class="form-group">
        <label class="label" for="name">Test Duration </label>
        <input type="number" #duration="ngModel" pattern="[0-9]*" placeholder="Enter the test duration"
          class="form-control" id="testDuration" required [(ngModel)]="test.testDuration" name="testDuration"
          [class.is-invalid]="duration.invalid && duration.touched">
        <div *ngIf="duration.errors && (duration.invalid||duration.touched)"
          [class.d-none]="duration.valid || duration.untouched">
          <small class="text-danger" *ngIf="duration.errors.required">Test duration is required</small>
          <small class="text-danger" *ngIf="duration.errors.pattern">test duration cannot be negative or 0</small>
        </div>
      </div>

      <div class="form-group">
        <label class="label" for="name">Test Start Time </label>
        <input type="time" placeholder="Enter the test start time" class="form-control" id="startTime" required
          [(ngModel)]="test.startTime" name="startTime" #startTime="ngModel"
          [class.is-invalid]="startTime.invalid && startTime.touched">
        <small class="text-danger" [class.d-none]="startTime.valid || startTime.untouched">Test start Time is
          required</small>
      </div>

      <div class="form-group">
        <label class="label" for="name">Test End Time </label>
        <input type="time" placeholder="Enter the test end time" class="form-control" id="endTime" required
          [(ngModel)]="test.endTime" name="endTime" #endTime="ngModel"
          [class.is-invalid]="endTime.invalid && endTime.touched">
        <small class="text-danger" [class.d-none]="endTime.valid || endTime.untouched">Test end Time is required</small>
      </div>

      <div class="form-group">
        <label class="label" for="name">Test Total Marks </label>
        <input type="number" readonly class="form-control" id="testTotalMarks" required
          [(ngModel)]="test.testTotalMarks" name="testTotalMarks" #marks="ngModel"
          [class.is-invalid]="marks.invalid && marks.touched">

      </div>

      <button class="btn btn-success" [disabled]="updateForm.form.invalid">Submit</button>
    </form>
  </div>
</div>